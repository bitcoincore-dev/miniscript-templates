__NOTOC__

=Miniscript Templates=

=About=

[https://bitcoin.sipa.be/miniscript/ Miniscript] is a language for composing Bitcoin Scripts in a structured way, facilitating analysis, composition, and generic signing. It's a simplified, composable subset of Bitcoin's Script language. Developed to overcome limitations in writing complex spending conditions directly in Bitcoin Script, it enables formal verification and offers a more human-friendly interface.

=Goals=

# Have reviewed templates that leverage miniscript to assure there are not unintended ways of executing a valid spend beyond the intended miniscript policy.

# Have standardized usages of miniscript to streamline software and hardware wallet integrations.

# Have uniform on-chain usage of miniscript templates for better privacy.

=Submission Format=

===Name of Template===
    Proposed Timelock Usage
===Goal to be achieved by template===
    A 3-of-3 that turns into a 2-of-3 after 90 days



===Example Miniscript Output Descriptors===

1. 3 Key Time Lock Multisig - Relative Blockheight Timelock
    wsh(thresh(2,pk(XPUB1),s:pk(XPUB2),s:pk(XPUB3),snl:older(100)))

2. Another Miniscript Example:
    thresh(3,pk(key_1),s:pk(key_2),s:pk(key_3),sln:older(12960))

Resulting script structure
    <key_1> OP_CHECKSIG OP_SWAP <key_2> OP_CHECKSIG OP_ADD OP_SWAP <key_3>
    OP_CHECKSIG OP_ADD OP_SWAP OP_IF
    0
    OP_ELSE
    <a032> OP_CHECKSEQUENCEVERIFY OP_0NOTEQUAL
    OP_ENDIF
    OP_ADD 3 OP_EQUAL


[https://mempool.space/testnet/tx/13a204ec065f76878ee1f59f79b3eb2cea2b3fda4d8938e6cfa6a8394d090769 Reference Testnet Transaction]

===Additional Notes===


===Additional References===

[[https://github.com/sipa/miniscript/tree/master | github.com/sipa/miniscript/tree/master]]
[[https://bitcoin.sipa.be/miniscript | bitcoin.sipa.be/miniscript]]

=Table of Contents=
{| class="wikitable sortable" style="width: auto; text-align: center; font-size: smaller; table-layout: fixed;"
!Number
!Title
!Author
!Co-Author
!Created
!Updated
!Version
!Status
|- style="background-color: #ffcfcf"
| [[Miniscript-Template-000-Timelocks-in-Templates.mediawiki|000]]
| Timelocks-in-Templates
| Rob Hamilton rob@anchorwatch.com
| Rob Hamilton rob@anchorwatch.com
| 2023-09-11
| 2023-09-11
| v0.0.1
| Active
|}
